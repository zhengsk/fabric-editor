<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fabric Editor</title>
</head>

<body>
    <div id="app">
        <fabric-editor ref="editor" :width='1000' :height='1000' @snapshot='onSnapShot' @element-change='onElementSelectChange'></fabric-editor>
        <!-- <div v-if="editor.currentElement && editor.currentElement.type === 'text'">Tool Bar for text</div> -->
        <!-- <div v-if="editor.currentElement && editor.currentElement.type === 'image'">Tool Bar for Image</div> -->
    </div>
    <div class="side-bar">
        <button onclick="importTemplate()">载入模板</button>
        <button onclick="exportTemplate()">导出模板</button>
        <br>
        <button onclick="exportDataURL()">导出图片</button>
        <!-- <button onclick="editor.previewTemplate()">效 果 图</button> -->
        <br>
        <br>

        <button onclick="editor.undo()">撤销</button>
        <button onclick="editor.redo()">重做</button>
        <br>
        <br>
        <button onclick="plateGo(-1)">上一张</button>
        <button onclick="plateGo(1)">下一张</button>
        <br>
        <br>

        <button onclick="addImage()">添加图片</button>
        <br>
        <button onclick="editor.flipX()">水平翻转</button>
        <button onclick="editor.flipY()">垂直翻转</button>
        <br>
        <br>

        <button onclick="addText()">添加文字</button>
        <br>
        <button onclick="changeTextBigger()">文字 +</button>
        <button onclick="changeTextSmaller()">文字 -</button>
        <button onclick="changeTextColor()">文字颜色</button>
        <button onclick="changeFontFamily()">文字字体</button>

        <!-- <button onclick="replaceImage()">替换图片</button> -->
        <!-- <button onclick="replageText()">替换文字</button> -->
    </div>

    <script id="templateString" type="editor-template">
        {
            "plates": [{
                "plate": "http://qn-us.fenglinghudong.com/editor-images/plate-01.png",
                "plateColor": null,
                "template": null,
                "url": null
            }, {
                "plate": "http://qn-us.fenglinghudong.com/editor-images/plate-02.png",
                "template": null,
                "plateColor": null,
                "url": null
            }],
            "rendering": [{
                "mask": [{
                    "plate": 0,
                    "points": [{
                        "x": 211,
                        "y": 244
                    }, {
                        "x": 1026,
                        "y": 225
                    }, {
                        "x": 963,
                        "y": 1045
                    }, {
                        "x": 174,
                        "y": 1054
                    }],
                    "url": "http://qn-us.fenglinghudong.com/editor-images/shoes-01/mask-01.png"
                }, {
                    "plate": 1,
                    "points": [{
                        "x": 40,
                        "y": -41
                    }, {
                        "x": 783,
                        "y": -10
                    }, {
                        "x": 828,
                        "y": 729
                    }, {
                        "x": 100,
                        "y": 721
                    }],
                    "url": "http://qn-us.fenglinghudong.com/editor-images/shoes-01/mask-02.png"
                }],
                "picture": "http://qn-us.fenglinghudong.com/editor-images/shoes-01/shoes.png"
            }, {
                "mask": [{
                    "plate": 0,
                    "points": [{
                        "x": 272,
                        "y": 111
                    }, {
                        "x": 940,
                        "y":
                            -28
                    }, {
                        "x": 963,
                        "y": 703
                    }, {
                        "x": 306,
                        "y": 1114
                    }],
                    "url": "http://qn-us.fenglinghudong.com/editor-images/shoes-04/mask-01.png"
                }],
                "picture": "http://qn-us.fenglinghudong.com/editor-images/shoes-04/shoes.png"
            }, {
                "mask": [{
                    "plate": 0,
                    "points": [{
                        "x": 131,
                        "y": -33
                    }, {
                        "x": 1064,
                        "y": 104
                    }, {
                        "x": 987,
                        "y": 902
                    }, {
                        "x": 66,
                        "y": 1057
                    }],
                    "url": "http://qn-us.fenglinghudong.com/editor-images/shoes-02/mask-01.png"
                }],
                "picture": "http://qn-us.fenglinghudong.com/editor-images/shoes-02/shoes.png"
            }, {
                "mask": [{
                    "plate": 1,
                    "points": [{
                        "x": -92,
                        "y": 123
                    }, {
                        "x": 892,
                        "y": 92
                    }, {
                        "x": 863,
                        "y": 977
                    }, {
                        "x": 26,
                        "y": 862
                    }],
                    "url": "http://qn-us.fenglinghudong.com/editor-images/shoes-03/mask-01.png"
                }],
                "picture": "http://qn-us.fenglinghudong.com/editor-images/shoes-03/shoes.png"
            }],
            "version": 1,
            "plateColor": "#FF0000"
        }
    </script>
</body>

</html>